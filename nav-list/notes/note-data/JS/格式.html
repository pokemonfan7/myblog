<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport"
	      content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>Alexz的博客网站</title>
	<link rel="stylesheet" href="./style.css">
	<style>
		.fl{
			float:left;
		}
		.fr{
			float:right;
		}
		#back{
			display:none;
			position:absolute;
			width:100%;
			height:100%;
			z-index:1000;
			background:#000;
			opacity:0.1;
		}
#login-form, #register-form{
	display:none;
	position:absolute;
	/*top:0;*/
	/*bottom:0;*/
	/*left: 0;*/
	/*right:0;*/
	/*margin: auto;*/
	width:310px;
	box-shadow:0 1px 11px rgba(0,0,0,0.27);
	padding:50px 30px;
	background:#fff;
	box-sizing:border-box;
	z-index:1010;
}
		#login-form{height:270px;}
		#register-form{height:310px;}
.dialog{
	width: 250px;
	height: 180px;
}
		.dialog input{
			width:100%;
			height:35px;
			padding:0;
			margin:0 auto 15px;
			border:1px solid #ccc;
			text-align:center;
		}
		.login-btn, .register-btn{
			border:1px solid #ccc;
			border-radius:3px;
			cursor:pointer;
			color:#fff;
			background:#62c292;
		}
		.dialog .sec4{
			font-size:14px;
		}
	</style>
</head>
<body>
<nav class="navbar-fixed-top">
	<div class="container">
		<div class="fl">
			<a class="logo" href="../../../../index.html"></a>
		</div>
		<ul class="nav-left fl">
			<li class="fl"><a href="../../../../index.html">首页</a></li>
			<li class="fl"><a href="../../../works/works.html">我的作品</a></li>
			<li class="fl"><a href="../../../notes/notes.html">我的笔记</a></li>
			<li class="fl"><a class="new" href="../../../demos/demos.html">我的demo</a></li>
		</ul>
		<ul class="nav-right fr">
			<li class="fl"><a id="backToTop"></a></li>
			<li class="fl"><a id="login" class="login" href="">登录</a></li>
			<li class="fl"><a id="register" class="register" href="">注册</a></li>
		</ul>
	</div>
</nav>
<main>
	<article class="fl">
		<div class="article-head">
			<h1>Promise应用</h1>
		</div>
		<div class="article-body">

		</div>
	</article>
	<aside class="fr">
		<div class="aside-head">目录</div>
		<div class="aside-body">
		</div>
	</aside>
</main>
<div id="back"></div>
<form id="login-form" action="">
<div class="dialog">
	<div><input required type="text" autofocus maxlength="5" placeholder="用户名"></div>
	<div><input required type="password" placeholder="密码"></div>
	<div><input required class="login-btn" type="submit" value="登录"></div>
	<div class="sec4"><span class="fl">没有帐号？</span><a id="dialog-login" class="fl" href="">注册</a><a class="fr" href="">忘记密码</a></div>
</div>
</form>
<form id="register-form" action="">
	<div class="dialog">
		<div><input required type="text" autofocus maxlength="5" placeholder="用户名"></div>
		<div><input required type="password" placeholder="密码"></div>
		<div><input required type="password" placeholder="确认密码"></div>
		<div><input required class="register-btn" type="submit" value="注册"></div>
		<div class="sec4"><span class="fl">有帐号？</span><a id="dialog-register" class="fl" href="">登录</a><a class="fr" href="">忘记密码</a></div>
	</div>
</form>
<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>

<script>
	var login=document.getElementById("login");
	var register=document.getElementById("register");
	var dialogLogin=document.getElementById("dialog-login");
	var dialogRegister=document.getElementById("dialog-register");
	var loginForm=document.getElementById("login-form");
	var registerForm=document.getElementById("register-form");
	var back=document.getElementById("back");
	login.addEventListener("click",loginDialog);
	register.addEventListener("click",registerDialog);
	dialogLogin.addEventListener("click",toggleDialog);
	dialogRegister.addEventListener("click",toggleDialog);
	back.addEventListener("click",outDialog);
	function loginDialog(e){
	    e.preventDefault();
	    back.style.display="block";
	    loginForm.style.display="block";
	}
	function registerDialog(e){
	    e.preventDefault();
	    back.style.display="block";
	    registerForm.style.display="block";
	}
	function toggleDialog(e){
      e.preventDefault();
      if(loginForm.style.display==="block"){
          loginForm.style.display="none";
          registerForm.style.display="block";
      }else{
          loginForm.style.display="block";
          registerForm.style.display="none";
      }
  }
	function outDialog(){
      back.style.display="none";
      loginForm.style.display="none";
      registerForm.style.display="none";
  }
  function center(obj){
      var screenHeight=document.documentElement.clientHeight;
      console.log(screenHeight);
      var screenWidth=document.documentElement.clientWidth;
      console.log(screenWidth);
      var scrollTop=document.documentElement.scrollTop;
      console.log(scrollTop);
      var objLeft=(screenWidth-parseInt(window.getComputedStyle(obj).width))/2;
      console.log(window.getComputedStyle(obj).width);
      console.log(objLeft);
      var objTop=(screenHeight-parseInt(window.getComputedStyle(obj).height))/2+scrollTop;
      console.log(window.getComputedStyle(obj).height);
      obj.style.left=objLeft+"px";
      obj.style.top=objTop+"px";
      obj.style.display="block";
      // $(window).resize(function () {
      //     screenHeight=$(window).height();
      //     screenWidth=$(window).width();
      //     scrollTop=$(document).scrollTop();
      //     objLeft=(screenWidth-obj.width())/2;
      //     objTop=(screenHeight-obj.height())/2+scrollTop;
      //     obj.css({left:objLeft+"px",top:objTop+"px","display":"block"});
      // });
      //
		  var w=parseInt(window.getComputedStyle(obj).width);
		  var h=parseInt(window.getComputedStyle(obj).height);
      window.onscroll=(function(obj){
          var screenHeight=document.documentElement.clientHeight;
          console.log(screenHeight);
          var screenWidth=document.documentElement.clientWidth;
          console.log(screenWidth);
          var scrollTop=document.documentElement.scrollTop;
          console.log(scrollTop);
          var objLeft=(screenWidth-w)/2;
          console.log(objLeft);
          var objTop=(screenHeight-h)/2+scrollTop;
          obj.style.left=objLeft+"px";
          obj.style.top=objTop+"px";
          obj.style.display="block";
      })(obj);
  }
  var ww=document.getElementById("login-form");
  center(ww);

</script>
<script src="./index.js"></script>
</body>
</html>